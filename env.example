# ============================================================================
# MASTER PIPELINE CONFIGURATION
# ============================================================================
# Copy this file to .env and configure with your actual paths and credentials
# 
# Usage:
#   1. Copy: cp env.example .env
#   2. Edit .env with your actual values
#   3. Never commit .env (it's in .gitignore)
# ============================================================================

# ----------------------------------------------------------------------------
# WORKSPACE PATHS
# ----------------------------------------------------------------------------
# Main workspace directory where all pipeline data is stored
PIPELINE_WORKSPACE=pipeline_workspace

# Individual stage folders (relative to PIPELINE_WORKSPACE)
DOWNLOADED_IMAGES_DIR=01_downloaded_from_drive
UNIQUE_IMAGES_DIR=02_unique_images
DUPLICATE_CLUSTERS_DIR=02_duplicate_clusters
BIOMETRIC_PROCESSED_DIR=03_biometric_processed
FINAL_OUTPUT_DIR=04_final_output

# ----------------------------------------------------------------------------
# BIOMETRIC COMPLIANCE PIPELINE PATHS
# ----------------------------------------------------------------------------
# Base directory for biometric pipeline (relative to backend/)
BIOMETRIC_PIPELINE_DIR=biometric_compliance_pipeline

# Biometric pipeline data folders (relative to BIOMETRIC_PIPELINE_DIR)
BIOMETRIC_INPUT_DIR=data/input
BIOMETRIC_OUTPUT_DIR=data/obfuscated
BIOMETRIC_CLEAN_DIR=data/clean
BIOMETRIC_QA_DIR=data/qa_review

# Biometric pipeline results
BIOMETRIC_RESULTS_DIR=results
BIOMETRIC_LOGS_DIR=results/logs

# ----------------------------------------------------------------------------
# DEDUPLICATION SETTINGS
# ----------------------------------------------------------------------------
# Similarity threshold for deduplication (0.0-1.0, lower = more strict)
DEDUP_THRESHOLD=0.32

# Use LLM for duplicate validation (true/false)
USE_LLM_VALIDATION=false

# Maximum number of LLM validations (cost control)
MAX_LLM_VALIDATIONS=100

# ----------------------------------------------------------------------------
# FACE DETECTION & OBFUSCATION SETTINGS
# ----------------------------------------------------------------------------
# Face detection confidence threshold (0.0-1.0)
FACE_DETECTION_CONFIDENCE=0.5

# Face verification threshold after obfuscation (0.0-1.0)
FACE_VERIFICATION_THRESHOLD=0.4

# Obfuscation method: egoblur, gaussian, pixelate, solid
OBFUSCATION_METHOD=egoblur

# Enable animal face filtering (skip cat/dog faces)
FILTER_ANIMAL_FACES=true

# YOLO model for animal detection
YOLO_MODEL=yolov8n.pt

# ----------------------------------------------------------------------------
# GOOGLE DRIVE CONFIGURATION
# ----------------------------------------------------------------------------
# Google Drive folder ID for image downloads
GOOGLE_DRIVE_FOLDER_ID=your_folder_id_here

# Path to Google service account credentials JSON file
GOOGLE_SERVICE_ACCOUNT_FILE=credentials/google-service-account.json

# ----------------------------------------------------------------------------
# OPENAI API (for LLM duplicate validation)
# ----------------------------------------------------------------------------
# OpenAI API key for LLM-based duplicate validation
OPENAI_API_KEY=your_openai_api_key_here

# ----------------------------------------------------------------------------
# AWS S3 CONFIGURATION (Optional)
# ----------------------------------------------------------------------------
AWS_ACCESS_KEY_ID=your_aws_access_key
AWS_SECRET_ACCESS_KEY=your_aws_secret_key
AWS_REGION=us-east-1
S3_BUCKET_NAME=your-bucket-name

# ----------------------------------------------------------------------------
# DATABASE CONFIGURATION
# ----------------------------------------------------------------------------
DATABASE_URL=sqlite:///./photo_annotation.db

# ----------------------------------------------------------------------------
# PIPELINE BEHAVIOR
# ----------------------------------------------------------------------------
VERBOSE_LOGGING=true
NUM_WORKERS=4
PIPELINE_TIMEOUT=3600
CLEANUP_TEMP_FILES=true

# ----------------------------------------------------------------------------
# OUTPUT FORMAT SETTINGS
# ----------------------------------------------------------------------------
OUTPUT_FORMAT=jpg
JPEG_QUALITY=95
PRESERVE_ORIGINAL_FORMAT=true

# ----------------------------------------------------------------------------
# APPLICATION SETTINGS (Required for annotation tool integration)
# ----------------------------------------------------------------------------
# Generate a secure secret key with: openssl rand -hex 32
SECRET_KEY=change-this-to-a-secure-random-value
CORS_ORIGINS=["http://localhost:3000","http://localhost:5173"]

